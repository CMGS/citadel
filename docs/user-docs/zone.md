## 多机房支持

>就像 UCloud 一样！

Citadel 可以将容器部署在多个机房。C1 用作测试环境，C2 用于生产。为了安全考虑，各个机房之间 SDN 网络不互通，并且 build 镜像在 C1 进行。

每个机房拥有自己的 ELB，也就意味着如果应用需要绑定域名，则应该分别在每个机房绑定域名。

注意: 日志落地到 mfs 的时候，是按照 appname/entrypoint/date 来区分的，也就是说，同一个应用同一个 entrypoint 的不同容器，即使它们部署在不同机房的时候，产生的日志是分布在同一个文件夹下面的。对此我们的建议是：C1 机房和 C2 机房的容器的 entrypoint 保持不同。

至于为什么不按机房来区分日志，我们的考虑如下：1. C1 机房作为测试，C2 机房作为生产环境，在逻辑上来说，部署在 C1 和 C2 的容器有不同的功能，这一点应该在 entrypoint 上体现; 2. 考虑日后业务扩展，我们会有多机房在线环境，这个时候，不同机房的生产日志集中在一起，将会更有利于 debug .
